class Solution {
public:
    int peopleAwareOfSecret(int n, int delay, int forget) {
        queue<vector<int>> queue, tqueue;
        queue.push({1+forget,1+delay,1});
        int MOD = 1000000007;
        for(int day = 2;day <= n;day++){
            while(!queue.empty() && queue.front()[0] <= day)
                queue.pop();
            tqueue = queue;
            long long int count = 0;
            while(!tqueue.empty() && tqueue.front()[1] <= day){
                count = (count + tqueue.front()[2])%MOD;
                tqueue.pop();
            }
            //cout << count << " ";
            if(count > 0)
                queue.push({day+forget, day+delay, (int)count});
            //cout << queue.size() << " ";

        }
        int len = 0;
        while(!queue.empty()){
            len = (len + queue.front()[2])%MOD; 
            queue.pop();
        }
        return len;
    }
};
